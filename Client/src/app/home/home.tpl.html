<div ng-controller="HomeCtrl">
    <header>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">

                <a style="padding:10px 10px 10px 0" ui-sref="home.catalog" class="logo mr15 navbar-header"> <img src="images/logo.png" alt=""/> </a>

                <div class="toggles navbar-header">
                    <button type="button" class="menu-collapse navbar-toggle collapsed dropdown-toggle" data-toggle="collapse" data-target="#nav-main">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="fa fa-bars"></span>
                    </button>
                    <span ng-show="isLoggedIn">
                        <div class="navbar-button btn-group btn-group-option">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-caret-down"></i>
                            </button>
                            <ul class="dropdown-menu pull-right" role="menu">
                                <li><a ui-sref='home.search'><i class="glyphicon glyphicon-search"></i> Search</a></li>
                                <li><a ui-sref="home.profile({username: user.username})"><i class="glyphicon glyphicon-user"></i> My Profile</a></li>
                                <li class="divider"></li>
                                <li><a href="" ng-click="logout()"><i class="glyphicon glyphicon-log-out"></i>Sign Out</a>
                                </li>
                            </ul>
                        </div>
                        <div class="navbar-button btn-group btn-group-list btn-group-messages">
                            <button type="button" class="btn btn-default dropdown-toggle" ui-sref="home.messages">
                                <i class="fa fa-envelope-o"></i>
                                <span ng-show="NotificationsFactory.pendingMessagesCount > 0" class="badge"> {{ NotificationsFactory.pendingMessagesCount }} </span>
                            </button>
                        </div>

                        <div class="navbar-button btn-group btn-group-list btn-group-notification">
                            <button ui-sref="home.notifications" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-bell-o"></i>
                                <span ng-show="NotificationsFactory.numberOfPendingNotifications > 0" class="badge"> {{ NotificationsFactory.numberOfPendingNotifications }} </span>
                            </button>
                        </div>
                    </span>
                    <span ng-hide="isLoggedIn">
                        <div class="navbar-button btn-group btn-group-option">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-caret-down"></i>
                            </button>
                            <ul class="dropdown-menu pull-right" role="menu">
                                <li><a ui-sref='home.search'><i class="glyphicon glyphicon-search"></i> Search</a></li>
                                <li><a href="#"><i class="glyphicon glyphicon-question-sign"></i> Help</a></li>
                                <li class="divider"></li>
                                <li><a ui-sref="login"><i class="glyphicon glyphicon-log-in"></i>Log In</a>
                                </li>
                            </ul>
                        </div>
                    </span>
                </div>

                <div class="collapse navbar-collapse navbar-header" id="nav-main">
                    <ul class="nav navbar-nav" ng-show="isLoggedIn">
                        <li ui-sref-active="active"><a ui-sref="home.profile({username: user.username})"><i class="fa fa-home"></i> <span>Profile</span></a></li>
                        <li ui-sref-active="active"><a ui-sref="home.catalog"><i class="fa fa-cubes"></i> <span>Catalog</span></a></li>
                        <li ui-sref-active="active"><a ui-sref='home.modelUpload' href=""><i class="fa fa-cloud-upload"></i> <span>Upload</span></a></li>
                        <li ui-sref-active="active"><a ui-sref='home.groupCreate' href=""><i class="fa fa-plus-circle"></i> <span>Create group</span></a></li>
                        <form class="navbar-form navbar-left form form-search" ng-submit="submitSearch()">
                            <input ng-model="query" type="search" name="search" class="form-control" placeholder="Search"/>
                        </form>
                    </ul>
                    <ul class="nav navbar-nav" ng-hide="isLoggedIn">
                        <li ui-sref-active="active"><a ui-sref="login"><i class="fa fa-sign-in"></i> <span>Log In</span></a></li>
                        <li ui-sref-active="active"><a ui-sref="home.catalog"><i class="fa fa-cubes"></i> <span>Catalog</span></a></li>
                        <form class="navbar-form navbar-left form form-search" ng-submit="submitSearch()">
                            <input ng-model="query" type="search" name="search" class="form-control" placeholder="Search"/>
                        </form>
                    </ul>
                </div>

            </div>
        </nav>

    </header>

    <section>
        <div ui-view>
        </div>
    </section>
</div>